name: SimpleRegmap
file: simple
regmap:
  - name: CONTROL
    description: Control register
    address: 0
    bitfields:
      - name: ENABLE
        description: Enable bit
        width: 1
        offset: 0
        reset: 0
      - name: MODE
        description: Operating mode
        width: 3
        offset: 1
        reset: 1
        enums:
          - { name: POWER_OFF, value: 0, description: "Device is off" }
          - { name: NORMAL, value: 1, description: "Device is on" }
          - { name: STANDBY, value: 2, description: "Device is in standby" }
          - { name: SLEEP, value: 3, description: "Device is in sleep mode" }
          - { name: TEST, value: 4, description: "Device is in test mode" }
      - name: RESET
        description: Reset bit
        width: 1
        offset: 4
        reset: 0
      - name: START
        description: Start operation bit
        width: 1
        offset: 5
        reset: 0
      - name: STOP
        description: Stop operation bit
        width: 1
        offset: 6
        reset: 0

  - name: STATUS
    description: Status register
    address: 1
    access: ro
    bitfields:
      - name: READY
        description: Ready status bit
        width: 1
        offset: 0
        reset: 1
      - name: BUSY
        description: Busy status bit
        width: 1
        offset: 1
        reset: 0
      - name: ERROR
        description: Error flag
        width: 1
        offset: 2
        reset: 0

  - name: DATA
    description: Data register
    address: 2
    bitfields:
      - name: VALUE
        description: Data value
        width: 16
        offset: 0
        reset: 0xCAFE

  - name: CONFIG
    description: Configuration register with non-zero resets
    address: 3
    bitfields:
      - name: GAIN
        description: Gain setting
        width: 4
        offset: 0
        reset: 5
      - name: OFFSET
        description: Offset value
        width: 8
        offset: 4
        reset: 128
      - name: POLARITY
        description: Signal polarity
        width: 1
        offset: 12
        reset: 1
        enums:
          - { name: NORMAL, value: 0, description: "Normal polarity" }
          - { name: INVERTED, value: 1, description: "Inverted polarity" }
