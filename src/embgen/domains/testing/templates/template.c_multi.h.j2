{# Multi-file template: Header file (.h) #}
{# Part of c_multi group - generates .h and .c files #}
/**
 * @file {{ output_filename }}.h
 * @brief {{ name }} - Auto-generated header
 * @version {{ version }}
 * @date {{ generated_on }}
 *
{% if description %}
 * {{ description }}
 *
{% endif %}
 * This file was generated by embgen testing domain.
 * DO NOT EDIT MANUALLY.
 */

#ifndef {{ name | upper | replace(" ", "_") }}_H
#define {{ name | upper | replace(" ", "_") }}_H

#ifdef __cplusplus
extern "C" {
#endif

#include <stdint.h>
#include <stdbool.h>

/*============================================================================*/
/* Type Definitions                                                           */
/*============================================================================*/

/**
 * @brief Item types enumeration
 */
typedef enum {
{% for type_name in items_by_type.keys() %}
    {{ name | upper }}_TYPE_{{ type_name | upper }}{% if not loop.last %},{% endif %}

{% endfor %}
} {{ name }}_ItemType;

/**
 * @brief Tag structure
 */
typedef struct {
    const char* name;
    int32_t value;
    bool has_value;
} {{ name }}_Tag;

/**
 * @brief Item structure
 */
typedef struct {
    const char* name;
    {{ name }}_ItemType type;
    int32_t value;
    bool enabled;
    const char* description;
    uint32_t tag_count;
} {{ name }}_Item;

/*============================================================================*/
/* Constants                                                                  */
/*============================================================================*/

#define {{ name | upper }}_VERSION "{{ version }}"
#define {{ name | upper }}_ITEM_COUNT {{ item_count }}
#define {{ name | upper }}_ENABLED_COUNT {{ enabled_items | length }}
#define {{ name | upper }}_GLOBAL_TAG_COUNT {{ global_tags | length }}

/*============================================================================*/
/* Global Data Declarations                                                   */
/*============================================================================*/

extern const {{ name }}_Item {{ name | lower }}_items[{{ name | upper }}_ITEM_COUNT];
extern const {{ name }}_Tag {{ name | lower }}_global_tags[{{ name | upper }}_GLOBAL_TAG_COUNT];

/*============================================================================*/
/* Function Declarations                                                      */
/*============================================================================*/

/**
 * @brief Get item by index
 * @param index Item index (0 to {{ item_count - 1 }})
 * @return Pointer to item or NULL if out of range
 */
const {{ name }}_Item* {{ name | lower }}_get_item(uint32_t index);

/**
 * @brief Get item by name
 * @param name Item name to search for
 * @return Pointer to item or NULL if not found
 */
const {{ name }}_Item* {{ name | lower }}_find_item(const char* name);

/**
 * @brief Get count of enabled items
 * @return Number of enabled items
 */
uint32_t {{ name | lower }}_get_enabled_count(void);

#ifdef __cplusplus
}
#endif

#endif /* {{ name | upper | replace(" ", "_") }}_H */
